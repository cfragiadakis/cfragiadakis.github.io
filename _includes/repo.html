{% assign repo_url = include.repository | split: '/' %}
{% if site.data.repositories.github_users contains repo_url.first %}
  {% assign show_owner = false %}
{% else %}
  {% assign show_owner = true %}
{% endif %}

<style>
  .repo-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px; /* Space between repos */
  }
  .repo {
    flex: 1 1 calc(50% - 10px); /* Two repos per row with space */
    box-sizing: border-box;
  }
  @media (max-width: 768px) {
    .repo {
      flex: 1 1 100%; /* One repo per row on small screens */
    }
  }
</style>

<div class="repo-container">
  {% for repository in include.repositories %}
    {% assign repo_url = repository | split: '/' %}
    {% if site.data.repositories.github_users contains repo_url.first %}
      {% assign show_owner = false %}
    {% else %}
      {% assign show_owner = true %}
    {% endif %}
    <div class="repo p-2 text-center">
      <a href="https://github.com/{{ repository }}">
        <img
          class="repo-img-light w-100"
          alt="{{ repository }}"
          src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme=default&show_owner={{ show_owner }}"
        >
      </a>
    </div>
  {% endfor %}
</div>
