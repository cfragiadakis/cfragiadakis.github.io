{% assign repo_url = include.repository | split: '/' %}
{% if site.data.repositories.github_users contains repo_url.first %}
  {% assign show_owner = false %}
{% else %}
  {% assign show_owner = true %}
{% endif %}

<div class="repo p-2 my-2">
  <div class="repo-card">
    <a href="https://github.com/{{ include.repository }}" class="repo-link">
      <div class="repo-header">
        <h3 class="repo-name">{{ repo_url[1] }}</h3>
        <span class="repo-status">{{ show_owner ? 'Public' : '' }}</span>
      </div>
      <p class="repo-description">
        {{ include.description }}
      </p>
      <div class="repo-details">
        <span class="repo-lang">
          <img src="https://img.shields.io/badge/language-{{ include.language }}-green" alt="{{ include.language }}">
        </span>
        <span class="repo-stars">
          <img src="https://img.shields.io/github/stars/{{ repo_url[0] }}/{{ repo_url[1] }}?style=social" alt="GitHub stars">
        </span>
        <span class="repo-updated">
          <img src="https://img.shields.io/github/last-commit/{{ repo_url[0] }}/{{ repo_url[1] }}" alt="Last updated">
        </span>
      </div>
    </a>
  </div>
</div>

<style>
.repo-card {
  border: 1px solid #e1e4e8;
  border-radius: 6px;
  background-color: #fff;
  box-shadow: 0 1px 3px rgba(27,31,35,0.12);
  padding: 16px;
  transition: box-shadow 0.2s;
}

.repo-card:hover {
  box-shadow: 0 4px 12px rgba(27,31,35,0.15);
}

.repo-link {
  text-decoration: none;
  color: inherit;
}

.repo-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.repo-name {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
}

.repo-status {
  background-color: #28a745;
  color: #fff;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 12px;
}

.repo-description {
  font-size: 14px;
  color: #586069;
  margin-bottom: 8px;
}

.repo-details {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: #586069;
}

.repo-details img {
  margin-right: 5px;
}
</style>
